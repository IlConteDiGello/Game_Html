<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title id="porta/finestra"> routine </title>
  <link rel="stylesheet" href="../css/stile.css">
  <script type="text/javascript" src="../js/funzioni.js"></script>
</head>

<body>

  <div> <img class="background" src="../immagini/camera.png"></div>
  <div id="overlay"></div>

  <button class="bottone invisibile" id="finestra" onclick="apri('Finestra.html')"></button>
  <textarea id="textbox"></textarea>

  <script>
    if(sessionStorage.getItem('preseMedicine') === 'false'){
      let textbox = document.getElementById('textbox');
      textbox.innerHTML = 'Dovrei prendere le medicine.';
    }

    //se non si ha ancora giocato contro la porta carica il bottone 'porta'
    if(sessionStorage.getItem('giocatoControPorta') === 'false'){
      let bottone = document.createElement("button");
      bottone.innerHTML = "Porta";
      bottone.id = "portaCamera";
      bottone.classList.add("bottone"); 
      bottone.onclick = () => apri('Boss_Porta.html');
      document.body.appendChild(bottone);
    }

    //se si ha giocato contro la porta e si ha vinto
    if(sessionStorage.getItem('giocatoControPorta') === 'true' && sessionStorage.getItem('vintoBossPorta') === 'true'){
      let bottone = document.createElement("button");
      bottone.innerHTML = "Porta";
      bottone.id = "portaCamera";
      bottone.classList.add("bottone"); 
      bottone.onclick = () => apri('Corridoio.html');
      document.body.appendChild(bottone);
    }

    //se si ha giocato contro la porta e si ha perso rende visibile il bottone finestra
    if(sessionStorage.getItem('giocatoControPorta') === 'true' && sessionStorage.getItem('vintoBossPorta') === 'false'){
      let finestra = document.getElementById('finestra');
      finestra.classList.remove('invisibile');
      finestra.innerHTML = 'Finestra';
      let textbox = document.getElementById('textbox');
      textbox.innerHTML = 'Non posso uscire dalla porta.';
    }
  </script>
  
</body>

</html>